<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa3_2018li1g006</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Tarefa3_2018li1g006.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Luis Carlos da Costa Salazar Martins<br />Jo&#227;o Miguel Pinheiro Machado</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa3_2018li1g006</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Testes</a></li><li><a href="#g:2">Descri&#231;&#227;o das fun&#231;&#245;es</a></li><li><a href="#g:3">Fun&#231;oes para o comprimir</a></li><li><a href="#g:4">Fun&#231;&#245;es para descomprimir</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>Introdu&#231;&#227;o</h1><p>O objetivo deste tarefa &#233; criar uma fun&#231;&#227;o que comprima (<code><a href="Tarefa3_2018li1g006.html#v:comprime">comprime</a></code>) o <code><a href="LI11819.html#t:Estado">Estado</a></code> do jogo em uma <code>String</code>, de modo a que fique o mais comprimida possivel, e outra que reverta o processo, ou seja,
   que a partir da <code>String</code> resultante da compress&#227;o, se obetenha o mesmo <code><a href="LI11819.html#t:Estado">Estado</a></code> que se tinha antes de fazer a compress&#227;o (<code><a href="Tarefa3_2018li1g006.html#v:descomprime">descomprime</a></code>). Um dos principais objetivos nesta tarefa era fazer com que a
   taxa de compress&#227;o fosse o maior possivel, ou seja, que conseguisemos comprimir um <code><a href="LI11819.html#t:Estado">Estado</a></code> numa string o mais pequena possivel.</p><h3>Resultado esperado:</h3><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>descomprime (comprime (Estado m js ds))
</code></strong>Estado m js ds
</pre><h1>Objetivo e estrat&#233;gias.</h1><h2>Compress&#227;o</h2><p>O primeiro grande objetivo desta tarefa era conseguir comprimir um <code><a href="LI11819.html#t:Estado">Estado</a></code> numa <code>String</code> o meu pequena possivel, mas de modo a que fosse possivel a <strong>descompress&#227;o</strong>. Por isso come&#231;amos por dividir
   o <code>Estado</code> em tr&#234;s partes, o mapa , a lista de jogadores e a lista de disparos, em que estas partes eram separadas pelo caracter <strong>|</strong> cuja sua fun&#231;&#227;o nesta tarefa foi apenas essa, para n&#227;o haver confus&#245;es.</p><p>Na parte do mapa, come&#231;amos por criar uma fun&#231;&#227;o que transforma um mapa numa <code>String</code> e para o efeito, usa-mos uma auxiliares <code><a href="Tarefa3_2018li1g006.html#v:auxm1">auxm1</a></code> que transforma cada linha do mapa numa string. Depois com a fun&#231;&#227;o
   <code><a href="Tarefa3_2018li1g006.html#v:comprimeMapa">comprimeMapa</a></code>, vai juntar todas essas string com <strong>\n</strong> entre cada uma.</p><p>Na parte da lista de Jogadores, a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:comprimeJogadores">comprimeJogadores</a></code> vai separar cada elemento de um jogador com o caracter <strong>&lt;</strong>, de modo a facilitar a descompress&#227;o e tambem de modo a nao misturar cada elemento.
   Depois todos os jogadores foram unidos numa unica string com <strong>\n</strong> entre cada jogador. &#201; de notar tambem os elementos de cada jogador aparecem pela mesma ordem na <code>String</code> comprimida.</p><p>Na parte da lista de Disparos, a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:comprimeDisparo">comprimeDisparo</a></code> vai organizar o DisparoCanhao e o DisparoLaser de modo em que as coordenadas aparecem primeiro. Em todos os tr&#234;s tipos de disparos comprimidos,
   h&#225; um caracter que os destingue dos outrou, para tornar a descompress&#227;o mais simples. Depois, tal como aconteceu com as outras partes, todos os disparos so unidos numa unica string com <strong>\n</strong> entre cada disparo.</p><h3>Resultado geral obtido:</h3><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>comprime (Estado [m1,m2,...,m] [j1,j2,j3,j4] [d1,d2,...,d])
</code></strong>&quot;m1\nm2\n...\nm|j1\nj2\nj3\nj4|d1\nd2\n...\nd&quot;
</pre><p>Um exemplo mais concreto da compress&#227;o pode ser visto na documenta&#231;&#227;o da fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:comprime">comprime</a></code>.</p><h2>Descompress&#227;o</h2><p>Tal como na compress&#227;o, a descompress&#227;o est&#225; dividida em 3 partes. Ent&#227;o, atrav&#233;s do uso da fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:dividecomprime">dividecomprime</a></code>, dividimos o resultado da compress&#227;o em tr&#234;s partes. A primeira parte, o mapa, com recurso
   &#224; fun&#231;&#227;o lines foi dividida em linha e com o uso da fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:stringToMapa">stringToMapa</a></code> conseguimos descomprimir o mapa.</p><p>A segunda parte, os jogadores, foi um pouco mais complexa que a primeira. Tivemos de criar uma fun&#231;&#227;o (<code><a href="Tarefa3_2018li1g006.html#v:entreChar">entreChar</a></code>) qu econsegui-se ler o que estava entre todos os <strong>&lt;</strong> para obter a informa&#231;&#227;o de cada jogodor
   e depois com o recurso &#224; fun&#231;&#227;o lines e com o uso das fun&#231;&#245;es <code><a href="Tarefa3_2018li1g006.html#v:stringToJogador">stringToJogador</a></code> e <code><a href="Tarefa3_2018li1g006.html#v:stringToJogadores">stringToJogadores</a></code> conseguimos descomprimir a lista de Jogadores.  </p><p>A ultima parte foi muito semelhante &#224; segunda pelo que a unica diferen&#231;a foi que tinhamos de distinguir cada tipo de disparo, dai ter sido usado um caracter diferente para cada disparo.</p><p>Posto isto, com a fun&#231;&#227;o descomprime conseguimos juntar todas estar parte num <code><a href="LI11819.html#t:Estado">Estado</a></code>, concluindo assim esta tarefa. Todas as fun&#231;&#245;es est&#227;o documentadas mais detalhadamente na parte da documenta&#231;&#227;o.</p><h1>Conclus&#227;o</h1><p>Com o trabalho realizado nesta tarefa, conseguimos obter os resultados desejados,  em que se comprimissemos um determinado Estado e de seguida o descomprimissemos, obtiamos o mesmo Estado.
   Tambem conseguimos acabar esta Tarefa com uma taxa de compressao de cerca de <strong>90.5%</strong>, ou seja o tamanho comprimido &#233; 90.5 vezes mais pequeno que o tamanho descomprimido, o que consideramos ser uma
   taxa de compressao rezo&#225;vel, porem com um bocado mais de tempo poderia ser possivel aumentar a taxa de compress&#227;o.
   Mas concluindo est&#225;mos satisfeitos com os resultados que obtivemos nesta tarefa, pois conseguimos cumprir os objetivos que tinhamos. </p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:testesT3">testesT3</a> :: [<a href="LI11819.html#t:Estado">Estado</a>]</li><li class="src short"><a href="#v:comprime">comprime</a> :: <a href="LI11819.html#t:Estado">Estado</a> -&gt; String</li><li class="src short"><a href="#v:comprimeMapa">comprimeMapa</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; String</li><li class="src short"><a href="#v:auxm1">auxm1</a> :: [<a href="LI11819.html#t:Peca">Peca</a>] -&gt; String</li><li class="src short"><a href="#v:comprimeJogadores">comprimeJogadores</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; String</li><li class="src short"><a href="#v:auxj1">auxj1</a> :: Int -&gt; Int -&gt; Int -&gt; String</li><li class="src short"><a href="#v:comprimeDisparo">comprimeDisparo</a> :: [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; String</li><li class="src short"><a href="#v:comprimeCanhao">comprimeCanhao</a> :: <a href="LI11819.html#t:Disparo">Disparo</a> -&gt; String</li><li class="src short"><a href="#v:comprimeLaser">comprimeLaser</a> :: <a href="LI11819.html#t:Disparo">Disparo</a> -&gt; String</li><li class="src short"><a href="#v:comprimeChoque">comprimeChoque</a> :: <a href="LI11819.html#t:Disparo">Disparo</a> -&gt; String</li><li class="src short"><a href="#v:descomprime">descomprime</a> :: String -&gt; <a href="LI11819.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:dividecomprime">dividecomprime</a> :: String -&gt; [String]</li><li class="src short"><a href="#v:removedaLista">removedaLista</a> :: [Int] -&gt; String -&gt; [String]</li><li class="src short"><a href="#v:posicaoNaLista">posicaoNaLista</a> :: Eq a =&gt; a -&gt; [a] -&gt; [Int]</li><li class="src short"><a href="#v:primeiroLista">primeiroLista</a> :: [String] -&gt; String</li><li class="src short"><a href="#v:segundoLista">segundoLista</a> :: [String] -&gt; String</li><li class="src short"><a href="#v:ultimoLista">ultimoLista</a> :: [String] -&gt; String</li><li class="src short"><a href="#v:stringToMapa">stringToMapa</a> :: [String] -&gt; <a href="LI11819.html#t:Mapa">Mapa</a></li><li class="src short"><a href="#v:stringToMapaux">stringToMapaux</a> :: String -&gt; [<a href="LI11819.html#t:Peca">Peca</a>]</li><li class="src short"><a href="#v:stringToJogadores">stringToJogadores</a> :: [String] -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>]</li><li class="src short"><a href="#v:stringToJogador">stringToJogador</a> :: String -&gt; <a href="LI11819.html#t:Jogador">Jogador</a></li><li class="src short"><a href="#v:stringToDisparos">stringToDisparos</a> :: [String] -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>]</li><li class="src short"><a href="#v:stringToDisparo">stringToDisparo</a> :: String -&gt; <a href="LI11819.html#t:Disparo">Disparo</a></li><li class="src short"><a href="#v:entreChar">entreChar</a> :: [Int] -&gt; String -&gt; [String]</li><li class="src short"><a href="#v:stringToPosicao">stringToPosicao</a> :: [String] -&gt; <a href="LI11819.html#t:Posicao">Posicao</a></li><li class="src short"><a href="#v:inicioString">inicioString</a> :: String -&gt; String</li><li class="src short"><a href="#v:restoString">restoString</a> :: String -&gt; String</li><li class="src short"><a href="#v:elemString">elemString</a> :: Int -&gt; String -&gt; Char</li><li class="src short"><a href="#v:elemList">elemList</a> :: Int -&gt; [String] -&gt; String</li></ul></div><div id="interface"><h1 id="g:1">Testes</h1><div class="top"><p class="src"><a id="v:testesT3" class="def">testesT3</a> :: [<a href="LI11819.html#t:Estado">Estado</a>] <a href="#v:testesT3" class="selflink">#</a></p><div class="doc"><p>Testes unit&#225;rios da Tarefa 3.</p><p>Cada teste &#233; um <code><a href="LI11819.html#t:Estado">Estado</a></code>.</p></div></div><h1 id="g:2">Descri&#231;&#227;o das fun&#231;&#245;es</h1><h1 id="g:3">Fun&#231;oes para o comprimir</h1><div class="top"><p class="src"><a id="v:comprime" class="def">comprime</a> :: <a href="LI11819.html#t:Estado">Estado</a> -&gt; String <a href="#v:comprime" class="selflink">#</a></p><div class="doc"><p>A fun&#231;ao <code>comprime</code>, vai comprimir o <code><a href="LI11819.html#t:Estado">Estado</a></code> do jogo usando tr&#234;s fun&#231;oes auxiliares, cada uma correspondente a cada parte do Estado. A fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:comprimeMapa">comprimeMapa</a></code> vai transformar o mapa numa <code>String</code>, 
     a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:comprimeJogadores">comprimeJogadores</a></code> vai comprimir a lista de Jogadores numa <code>String</code>, e a <code><a href="Tarefa3_2018li1g006.html#v:comprimeDisparo">comprimeDisparo</a></code> vai comprimir a lista de Disparos numa <code>String</code>.
     Depois cada uma dessas strings vai ser unida numa unica <code>String</code> em que cada parte vai ser separada pelo caracter <strong>|</strong> , de  modo a facilitar a descompress&#227;o. </p><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>comprime (Estado (mapaInicial (15,15)) [(Jogador (1,1) D 6 3 3),(Jogador (1,12) B 5 3 3)] [(DisparoCanhao 0 (1,10) D),(DisparoLaser 1 (10,1) B)])
</code></strong>&quot;IIIIIIIIIIIIIII\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\
nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIIIIIIIIIIIIIII|&lt;1&lt;1&lt;D&lt;6&lt;3&lt;3&lt;\n&lt;1&lt;12&lt;B&lt;5&lt;3&lt;3&lt;|&lt;1&lt;10&lt;K&lt;D&lt;0&lt;\n&lt;10&lt;1&lt;L&lt;B&lt;1&lt;&quot;    
</pre></div></div><div class="top"><p class="src"><a id="v:comprimeMapa" class="def">comprimeMapa</a> <a href="#v:comprimeMapa" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Mapa">Mapa</a></td><td class="doc"><p>O mapa que vai ser transformado em String.</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>String com a disposi&#231;&#227;o do mapa.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>comprimeMapa</code>, com o auxilio da fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:auxm1">auxm1</a></code> vai transformar o mapa numa <code>Strin</code>, em que cada do mapa &#233; separado por <strong>\n</strong> , de modo a facilitar a descompress&#227;o.</p><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>comprimeMapa (constroi [Desenha,Roda,MudaParede,Move D,Desenha])
</code></strong>&quot;IIIIIII\nIVIVVVI\nIVDDDDI\nIVIVVVI\nIVIVVVI\nIIIIIII&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:auxm1" class="def">auxm1</a> <a href="#v:auxm1" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="LI11819.html#t:Peca">Peca</a>]</td><td class="doc"><p>Lista de pe&#231;as de uma linha do mapa.</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>Resultado de comprimir.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>auxm1</code>, que ja foi vista em pr&#225;tica anteriormente , vai pegar em cada pe&#231;a de uma linha do mapa, e dependendo do seu conteudo vai-lhe atribuir uma letra.
    <strong>I</strong> se for um <code>Bloco Indestrutivel</code>, <strong>D</strong> se for um <code>Bloco Destrutivel</code> e <strong>V</strong> se for uma pe&#231;a <code>Vazia</code>.</p></div></div><div class="top"><p class="src"><a id="v:comprimeJogadores" class="def">comprimeJogadores</a> <a href="#v:comprimeJogadores" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="LI11819.html#t:Jogador">Jogador</a>]</td><td class="doc"><p>Lista de jogadores e as suas informa&#231;&#245;es vai ser lido buscando a sua posicao, direcao, numero de vidas, lasers e choques.</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>String com a informa&#231;ao dos jogadores.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>comprimeJogadores</code> vai, a partir de uma lista de Jogadores, criar uma string que separa cada jogador com <strong>\n</strong>, para facilitar na descompress&#227;o.
    Esta fun&#231;&#227;o est&#225; estruturada da seguinte forma:</p><ol><li>Pega no primeiro Jogador de uma lista.</li><li>As coordenadas s&#227;o as primeiras que aparecem na <code>String</code>, seguidas da dire&#231;&#227;o do jogador.</li><li>Usa a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:auxj1">auxj1</a></code> para comprimir os restantes elementos do jogador (vidas, laser e choques).</li><li>Todos os elementos referidos anteriormente est&#227;o separados pelo caracter <strong>&lt;</strong>, de modo a facilitar a descompress&#227;o.</li><li>Posteriormente adiciona <strong>\n</strong> &#224; <code>String</code> e repete o processo para os restantes Jogadores.</li></ol><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>comprimeJogadores [(Jogador (1,1) C 6 3 3),(Jogador (10,10) D 10 2 2)]
</code></strong>&quot;&lt;1&lt;1&lt;C&lt;6&lt;3&lt;3&lt;\n&lt;10&lt;10&lt;D&lt;10&lt;2&lt;2&lt;&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:auxj1" class="def">auxj1</a> :: Int -&gt; Int -&gt; Int -&gt; String <a href="#v:auxj1" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code>auxj1</code> &#233; usada exclusivamente para colocar as vidas, as balas de laser, e as balas de choque, em string, como ja foi exemplicado anteriormente. </p></div></div><div class="top"><p class="src"><a id="v:comprimeDisparo" class="def">comprimeDisparo</a> <a href="#v:comprimeDisparo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="LI11819.html#t:Disparo">Disparo</a>]</td><td class="doc"><p>Lista de disparos e as suas informa&#231;&#245;es vai ser lido buscando os tipos de disparos assim como os jogadores que efetuaram a posicao deles e as dire&#231;&#245;es ou os ticks.</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>String com a informa&#231;ao dos disparos.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>comprimeDisparo</code>, juntamente com as fun&#231;oes <code><a href="Tarefa3_2018li1g006.html#v:comprimeCanhao">comprimeCanhao</a></code>, <code><a href="Tarefa3_2018li1g006.html#v:comprimeLaser">comprimeLaser</a></code> e <code><a href="Tarefa3_2018li1g006.html#v:comprimeChoque">comprimeChoque</a></code>, vai comprimir a lista de disparos que tem as informacoes 
    do DisparoCanhao (este contem o id do joagdor que disparou , a posicao e a direcao), da DisparoLaser ( que contem a id do joagdor que disparou , a posicao e a direcao)
    e por fim o DisparoChoque (que contem a id do jogador e o numero de ticks), separando cada disparo com <strong>\n</strong>, para facilitar na descompress&#227;o.
    Esta fun&#231;&#227;o est&#225; estruturada da seguinte forma:</p><ol><li>Pega no primeiro Disparo de uma lista.</li><li>V&#234; que tipo de disparo &#233; e usa uma das fun&#231;&#245;es auxiliares. </li><li>Todos os elementos est&#227;o separados pelo caracter <strong>&lt;</strong>, de modo a facilitar a descompress&#227;o.</li><li>Posteriormente adiciona <strong>\n</strong> &#224; <code>String</code> e repete o processo para os restantes Disparos.</li></ol><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>comprimeDisparo [(DisparoCanhao 0 (10,10) C),(DisparoLaser 1 (12,1) B),(DisparoChoque 2 10)]
</code></strong>&quot;&lt;10&lt;10&lt;K&lt;C&lt;0&lt;\n&lt;12&lt;1&lt;L&lt;B&lt;1&lt;\nR&lt;2&lt;10&lt;&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:comprimeCanhao" class="def">comprimeCanhao</a> <a href="#v:comprimeCanhao" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Disparo">Disparo</a></td><td class="doc"><p>O tipo do Disparo, neste caso DisparoChanhao.</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>A string resultante de comprimir o DisparoCanhao .</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>comprimeCanhao</code>, comprime um DisparoCanhao do seguinte modo:</p><ol><li>Mete as coordenadas do Disparo em primeiro lugar na lista.</li><li>Adiciona a letra <strong>K</strong> para distinguir dos outros tipos de disparo.</li><li>Adiciona o identificador do jogador por fim.</li><li>Todos os elementos referidos anteriormente s&#227;o separados por <strong>&lt;</strong>, para facilitar a descompress&#227;o.</li></ol></div></div><div class="top"><p class="src"><a id="v:comprimeLaser" class="def">comprimeLaser</a> <a href="#v:comprimeLaser" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Disparo">Disparo</a></td><td class="doc"><p>O tipo do Disparo, neste caso DisparoLaser.</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>A string resultante de comprimir o DisparoLaser. </p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>comprimeLaser</code>, comprime um DisparoLaser do seguinte modo:</p><ol><li>Mete as coordenadas do Disparo em primeiro lugar na lista.</li><li>Adiciona a letra <strong>L</strong> para distinguir dos outros tipos de disparo.</li><li>Adiciona o identificador do jogador por fim.</li><li>Todos os elementos referidos anteriormente s&#227;o separados por <strong>&lt;</strong>, para facilitar a descompress&#227;o.</li></ol></div></div><div class="top"><p class="src"><a id="v:comprimeChoque" class="def">comprimeChoque</a> <a href="#v:comprimeChoque" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Disparo">Disparo</a></td><td class="doc"><p>O tipo do Disparo, neste caso DisparoChoque.</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>A string resultante de comprimir o DisparoChoque .</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>comprimeChoque</code>, comprime um DisparoChoque do seguinte modo:</p><ol><li>Visto que nao tem coordenadas, adiciona a letra <strong>R</strong> no inico,para distinguir dos outros tipos de disparo.</li><li>Adiciona o identificador do jogador e o tempo do choque,nesta ordem.</li><li>Todos os elementos referidos anteriormente s&#227;o separados por <strong>&lt;</strong>, para facilitar a descompress&#227;o.</li></ol></div></div><h1 id="g:4">Fun&#231;&#245;es para descomprimir</h1><div class="top"><p class="src"><a id="v:descomprime" class="def">descomprime</a> :: String -&gt; <a href="LI11819.html#t:Estado">Estado</a> <a href="#v:descomprime" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code>descomprime</code> funciona da seguinte forma:</p><ol><li>Para o mapa utiliza a fun&#231;&#227;o a fun&#231;&#245;es <code><a href="Tarefa3_2018li1g006.html#v:dividecomprime">dividecomprime</a></code> e <code><a href="Tarefa3_2018li1g006.html#v:primeiroLista">primeiroLista</a></code> para separar a <strong>String</strong> do mapa do resto da <code>String</code>.</li><li>Depois utiliza a fun&#231;&#227;o lines (pr&#233;-definida em Data.Char), para separar todas as linhas do mapa numa lista e depois usar a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:stringToMapa">stringToMapa</a></code> para criar o mapa.</li><li>Para os Jogadores utiliza a fun&#231;&#227;o a fun&#231;&#245;es <code><a href="Tarefa3_2018li1g006.html#v:dividecomprime">dividecomprime</a></code> e <code><a href="Tarefa3_2018li1g006.html#v:segundoLista">segundoLista</a></code> para separar a <strong>String</strong> dos Jogadores do resto da <code>String</code>.</li><li>Depois utiliza a fun&#231;&#227;o lines (pr&#233;-definida em Data.Char), para separar todas as <strong>strings</strong> de jogadores numa lista e depois usa a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:stringToJogadores">stringToJogadores</a></code> para criar a lista de Jogadores.</li><li>Para os Disparos utiliza a fun&#231;&#227;o a fun&#231;&#245;es <code><a href="Tarefa3_2018li1g006.html#v:dividecomprime">dividecomprime</a></code> e <code><a href="Tarefa3_2018li1g006.html#v:ultimoLista">ultimoLista</a></code> para separar a <strong>String</strong> dos Disparos do resto da <code>String</code>.</li><li>Depois utiliza a fun&#231;&#227;o lines (pr&#233;-definida em Data.Char), para separar todas as <strong>strings</strong> de disparos numa lista e depois usa a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:stringToDisparos">stringToDisparos</a></code> para criar a lista de Jogadores.</li><li>O resultado final &#233; um Estado</li></ol><h2>Exemplo da utiliza&#231;&#227;o</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>descomprime &quot;IIIIIIIIIIIIIII\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIVVVVVVVVVVVVVI\nIIIIIIIIIIIIIII|&lt;1&lt;1&lt;D&lt;6&lt;3&lt;3&lt;\n&lt;1&lt;12&lt;B&lt;5&lt;3&lt;3&lt;|&lt;1&lt;10&lt;K&lt;D&lt;0&lt;\n&lt;10&lt;1&lt;L&lt;B&lt;1&lt;&quot;
</code></strong>Estado {mapaEstado = [[Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel],[Bloco Indestrutivel,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Bloco Indestrutivel],[Bloco Indestrutivel,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Bloco Indestrutivel],[Bloco Indestrutivel,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Bloco Indestrutivel],[Bloco Indestrutivel,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Bloco Indestrutivel],[Bloco Indestrutivel,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Bloco Indestrutivel],[Bloco Indestrutivel,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Bloco Indestrutivel],[Bloco Indestrutivel,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Bloco Indestrutivel],[Bloco Indestrutivel,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Bloco Indestrutivel],[Bloco Indestrutivel,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Bloco Indestrutivel],[Bloco Indestrutivel,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Bloco Indestrutivel],[Bloco Indestrutivel,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Bloco Indestrutivel],[Bloco Indestrutivel,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Bloco Indestrutivel],[Bloco Indestrutivel,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Vazia,Bloco Indestrutivel],[Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel]],
jogadoresEstado = [Jogador {posicaoJogador = (1,1), direcaoJogador = D, vidasJogador = 6, lasersJogador = 3, choquesJogador = 3},Jogador {posicaoJogador = (1,12), direcaoJogador = B, vidasJogador = 5, lasersJogador = 3, choquesJogador = 3}], disparosEstado = [DisparoCanhao {jogadorDisparo = 0, posicaoDisparo = (1,10), direcaoDisparo = D},DisparoLaser {jogadorDisparo = 1, posicaoDisparo = (10,1), direcaoDisparo = B}]}
</pre></div></div><div class="top"><p class="src"><a id="v:dividecomprime" class="def">dividecomprime</a> <a href="#v:dividecomprime" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: String</td><td class="doc"><p>String do estado comprimido.</p></td></tr><tr><td class="src">-&gt; [String]</td><td class="doc"><p>Lista de String sendo cada elemento da lista correspondente a compress&#227;o de cada parte do Estado [&quot;mapa&quot;,&quot;jogadores&quot;,&quot;disparos&quot;].</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>dividecomprime</code>,juntamente com as fun&#231;&#245;es <code><a href="Tarefa3_2018li1g006.html#v:removedaLista">removedaLista</a></code> e <code><a href="Tarefa3_2018li1g006.html#v:posicaoNaLista">posicaoNaLista</a></code>, vai criar uma lista de <code>String</code> com todas as partes de um <code><a href="LI11819.html#t:Estado">Estado</a></code> em cada elemento dessa lista (Mapa,Jogadores,Disparos).
    Esta fun&#231;&#227;o, juntamente com as outras vai funcionar do seguinte modo:</p><ol><li>Usando a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:posicaoNaLista">posicaoNaLista</a></code> vai ver na <code>String</code> comprimida do <code>Estado</code> em que posi&#231;&#245;es entao os caracteres <strong>|</strong> e vai devolver uma lista com essas posi&#231;&#245;es.</li><li>Usando a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:removedaLista">removedaLista</a></code> e a lista de posi&#231;&#245;es gerada pele fun&#231;&#227;o anterior, vai dividir a <strong>String</strong> do <code>Estado</code> nessas posi&#231;&#245;es, separando-as por cada parte do <code>Estado</code>.</li><li>O resultado final &#233; do tipo <strong>[Mapa,Jogadores,Disparos]</strong></li></ol><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>dividecomprime &quot;IIIIIII\nIVVVVVI\nIVVVVVI\nIVVVVVI\nIVVVVVI\nIVVVVVI\nIIIIIII|&lt;1&lt;1&lt;D&lt;6&lt;3&lt;3&lt;\n&lt;4&lt;4&lt;B&lt;5&lt;3&lt;3&lt;|&lt;1&lt;2&lt;K&lt;D&lt;0&lt;\n&lt;3&lt;4&lt;L&lt;B&lt;1&lt;&quot;
</code></strong>[&quot;IIIIIII\nIVVVVVI\nIVVVVVI\nIVVVVVI\nIVVVVVI\nIVVVVVI\nIIIIIII&quot;,&quot;&lt;1&lt;1&lt;D&lt;6&lt;3&lt;3&lt;\n&lt;4&lt;4&lt;B&lt;5&lt;3&lt;3&lt;&quot;,&quot;&lt;1&lt;2&lt;K&lt;D&lt;0&lt;\n&lt;3&lt;4&lt;L&lt;B&lt;1&lt;&quot;]
</pre></div></div><div class="top"><p class="src"><a id="v:removedaLista" class="def">removedaLista</a> <a href="#v:removedaLista" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [Int]</td><td class="doc"><p>Lista dos indices a seream removidos.</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>String do <code><a href="LI11819.html#t:Estado">Estado</a></code> comprimido.</p></td></tr><tr><td class="src">-&gt; [String]</td><td class="doc"><p>Lista de String sendo cada elemento da lista correspondente a compress&#227;o de cada parte do Estado [&quot;mapa&quot;,&quot;jogadores&quot;,&quot;disparos&quot;].</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>removedaLista</code> recebe uma lista de indices e a <code>String</code> do Estado e separa-a de acordo com a lista de indices, removendo os elementos nesses indices.</p><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>removedaLista [55,83] &quot;IIIIIII\nIVVVVVI\nIVVVVVI\nIVVVVVI\nIVVVVVI\nIVVVVVI\nIIIIIII|&lt;1&lt;1&lt;D&lt;6&lt;3&lt;3&lt;\n&lt;4&lt;4&lt;B&lt;5&lt;3&lt;3&lt;|&lt;1&lt;2&lt;K&lt;D&lt;0&lt;\n&lt;3&lt;4&lt;L&lt;B&lt;1&lt;&quot;
</code></strong>[&quot;IIIIIII\nIVVVVVI\nIVVVVVI\nIVVVVVI\nIVVVVVI\nIVVVVVI\nIIIIIII&quot;,&quot;&lt;1&lt;1&lt;D&lt;6&lt;3&lt;3&lt;\n&lt;4&lt;4&lt;B&lt;5&lt;3&lt;3&lt;&quot;,&quot;&lt;1&lt;2&lt;K&lt;D&lt;0&lt;\n&lt;3&lt;4&lt;L&lt;B&lt;1&lt;&quot;]
</pre></div></div><div class="top"><p class="src"><a id="v:posicaoNaLista" class="def">posicaoNaLista</a> :: Eq a =&gt; a -&gt; [a] -&gt; [Int] <a href="#v:posicaoNaLista" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code>posicaoNaLista</code> procura numa lista um certo caracter e depois cria uma lista com os indices onde esse caracter se encontra.</p><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>posicaoNaLista '|' &quot;IIIIIII\nIVVVVVI\nIVVVVVI\nIVVVVVI\nIVVVVVI\nIVVVVVI\nIIIIIII|&lt;1&lt;1&lt;D&lt;6&lt;3&lt;3&lt;\n&lt;4&lt;4&lt;B&lt;5&lt;3&lt;3&lt;|&lt;1&lt;2&lt;K&lt;D&lt;0&lt;\n&lt;3&lt;4&lt;L&lt;B&lt;1&lt;&quot;
</code></strong>[55,83] 
</pre></div></div><div class="top"><p class="src"><a id="v:primeiroLista" class="def">primeiroLista</a> <a href="#v:primeiroLista" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [String]</td><td class="doc"><p>Lista de String sendo cada elemento da lista correspondente a compress&#227;o de cada parte do Estado [&quot;mapa&quot;,&quot;jogadores&quot;,&quot;disparos&quot;].</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>Primeiro elemento da lista anterior [&quot;mapa&quot;].</p></td></tr></table></div><div class="doc"><p>Recebe uma Lista de <code>String</code> e d&#225; a primeira String dessa lista. Utilizado na func&#227;o <code><a href="Tarefa3_2018li1g006.html#v:descomprime">descomprime</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:segundoLista" class="def">segundoLista</a> <a href="#v:segundoLista" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [String]</td><td class="doc"><p>Lista de String sendo cada elemento da lista correspondente a compress&#227;o de cada parte do Estado [&quot;mapa&quot;,&quot;jogadores&quot;,&quot;disparos&quot;].</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>Segunda elemento da lista anterior [&quot;jogadores&quot;].</p></td></tr></table></div><div class="doc"><p>Recebe uma Lista de String e d&#225; a segunda String dessa lista. Utilizado na func&#227;o <code><a href="Tarefa3_2018li1g006.html#v:descomprime">descomprime</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:ultimoLista" class="def">ultimoLista</a> <a href="#v:ultimoLista" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [String]</td><td class="doc"><p>Lista de String sendo cada elemento da lista correspondente a compress&#227;o de cada parte do Estado [&quot;mapa&quot;,&quot;jogadores&quot;,&quot;disparos&quot;].</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>Ultimo elemento da lista anterior [&quot;disparos&quot;].</p></td></tr></table></div><div class="doc"><p>Recebe uma Lista de String e d&#225; a ultima String dessa lista. Utilizado na func&#227;o <code><a href="Tarefa3_2018li1g006.html#v:descomprime">descomprime</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:stringToMapa" class="def">stringToMapa</a> <a href="#v:stringToMapa" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [String]</td><td class="doc"><p>String resultante da utiliza&#231;ao do lines.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Mapa">Mapa</a></td><td class="doc"><p>Mapa descomprimido.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>stringToMapa</code>, juntamente com a <code><a href="Tarefa3_2018li1g006.html#v:stringToMapaux">stringToMapaux</a></code>, usando a lista de <code>String</code> resultante de usar a fun&#231;&#227;o lines (pre-definida em Data.Char) no mapa, ou seja, uma lista em que cada elemento &#233; uma linha do mapa,
    vai, usando a sua auxiliar,  funcionar da seguinte forma:</p><ol><li>Pega no primeiro elemento da lista e aplica-lhe a fun&#231;&#227;o <code>strinToMapaux</code></li><li>Faz a recursividade para o resto da lista.</li><li>O produto final &#233; uma mapa resultante de descomprimir a <code>String</code>.</li></ol><h2>Exemplo de utiliza&#231;&#227;o</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>stringToMapa [&quot;IIIIIII&quot;,&quot;IVIVVVI&quot;,&quot;IVDDDDI&quot;,&quot;IVIVVVI&quot;,&quot;IVIVVVI&quot;,&quot;IIIIIII&quot;]
</code></strong>[[Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel],[Bloco Indestrutivel,Vazia,Bloco Indestrutivel,Vazia,Vazia,Vazia,Bloco Indestrutivel],[Bloco Indestrutivel,Vazia,Bloco Destrutivel,Bloco Destrutivel,Bloco Destrutivel,Bloco Destrutivel,Bloco Indestrutivel],
[Bloco Indestrutivel,Vazia,Bloco Indestrutivel,Vazia,Vazia,Vazia,Bloco Indestrutivel],[Bloco Indestrutivel,Vazia,Bloco Indestrutivel,Vazia,Vazia,Vazia,Bloco Indestrutivel],[Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel,Bloco Indestrutivel]]
</pre><p><img src="mapa.png" /></p></div></div><div class="top"><p class="src"><a id="v:stringToMapaux" class="def">stringToMapaux</a> <a href="#v:stringToMapaux" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: String</td><td class="doc"><p>Uma string da String resultante da utiliza&#231;ao do lines.</p></td></tr><tr><td class="src">-&gt; [<a href="LI11819.html#t:Peca">Peca</a>]</td><td class="doc"><p>Uma das linhas do <code><a href="LI11819.html#t:Mapa">Mapa</a></code>.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>stringToMapaux</code>, utilizada uma <strong>String</strong> que corresponde a uma linha do mapa e transforma-a numa linha de um mapa, ou seja uma lista de <strong>Pe&#231;as</strong>.
    Ao percorrer a lista, se encontrar um <strong>I</strong> transforma num <strong>Bloco Indestrutivel</strong>, se encontrar um <strong> D </strong> transforma num <strong>Bloco Destrutivel</strong> e se encontrar um <strong>V</strong> transforma numa pe&#231;a <strong>Vazia</strong>.</p><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>stringToMapaux &quot;IVDVI&quot;
</code></strong>[Bloco Indestrutivel,Vazia,Bloco Destrutivel,Vazia,Bloco Indestrutivel]
</pre></div></div><div class="top"><p class="src"><a id="v:stringToJogadores" class="def">stringToJogadores</a> <a href="#v:stringToJogadores" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [String]</td><td class="doc"><p>String resultante da utiliza&#231;ao do lines.</p></td></tr><tr><td class="src">-&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>]</td><td class="doc"><p>Lista de Jogadores descomprimida</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>stringToJogadores</code>, juntamente com a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:stringToJogador">stringToJogador</a></code>, descomprime a lista de strings resultante de usar a fun&#231;&#227;o lines (pre-definida em Data.Char) na lista de jogadores comprimida.
    Esta fun&#231;&#227;o vai criar uma lista de jogadores do seguinte modo:</p><ol><li>Pega na primeira string da lista de <code>String</code> e usa a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:stringToJogador">stringToJogador</a></code>.</li><li>Depois faz a recursivade do resto da lista criando uma lista de Jogadores ordenada.</li></ol><h2>Exemplo de utiliza&#231;&#227;o</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>stringToJogadores (lines &quot;&lt;1&lt;1&lt;D&lt;6&lt;3&lt;3&lt;\n&lt;4&lt;4&lt;B&lt;5&lt;3&lt;3&lt;&quot;)
</code></strong>[Jogador {posicaoJogador = (1,1), direcaoJogador = D, vidasJogador = 6, lasersJogador = 3, choquesJogador = 3},
Jogador {posicaoJogador = (4,4), direcaoJogador = B, vidasJogador = 5, lasersJogador = 3, choquesJogador = 3}]
</pre></div></div><div class="top"><p class="src"><a id="v:stringToJogador" class="def">stringToJogador</a> <a href="#v:stringToJogador" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: String</td><td class="doc"><p>Uma string da String resultante da utiliza&#231;ao do lines.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>Um <code><a href="LI11819.html#t:Jogador">Jogador</a></code> resultante da lista de String.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>stringToJogador</code> transforma uma <strong>String</strong> correspondente a um jogador num <code><a href="LI11819.html#t:Jogador">Jogador</a></code> do seguinte modo:</p><ol><li>Um <code><a href="LI11819.html#t:Jogador">Jogador</a></code> est&#225; dividido em 3 partes: posi&#231;&#227;o, dire&#231;&#227;o e status.</li><li>Para a primeira parte, &#233; utilizada a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:inicioString">inicioString</a></code> que vai corresponder &#224; parte das coordenadas na <strong>String</strong>.</li><li>Depois vai ser usada a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:posicaoNaLista">posicaoNaLista</a></code> para encontrar os indices onde se encontra o caracter <strong>&lt;</strong>.</li><li>Com a lista de indices formada, vais ser usada a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:entreChar">entreChar</a></code> para ver quais s&#227;o os caracteres correspondentes &#224;s coordenadas, criando uma lista onde o primeiro &#233; o <strong>x</strong> e o segundo &#233; o <strong>y</strong>.</li><li>Depois vai ser usada a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:stringToPosicao">stringToPosicao</a></code> com a lista formada anteriormente, criando uma <code><a href="LI11819.html#t:Posicao">Posicao</a></code> do tipo (x,y).</li><li>Para a segunda parte, &#233; utilizado a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:elemString">elemString</a></code> para ver qual &#233; o primeiro elemento da <strong>String</strong> correspondente ao Jogador sem a parte das coordenadas, ou seja, &#224; parte correspondente do uso da fun&#231;ao <code><a href="Tarefa3_2018li1g006.html#v:restoString">restoString</a></code>.</li><li>Com esse elemento vai ser usada a fun&#231;&#227;o <code>read</code> (pr&#233;-definida) para ver qual &#233; a dire&#231;&#227;o que corresponde &#224; <code>String</code> obtida no passo anterior.</li><li>Para a terceira parte, e usando novamente a <strong>String</strong> obtida de ter usado a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:restoString">restoString</a></code>, vai-se obter o n&#186; de vidas, de lasers e de choques.</li><li>Primeiro usa-se as fun&#231;&#245;es <code><a href="Tarefa3_2018li1g006.html#v:posicaoNaLista">posicaoNaLista</a></code> e <code><a href="Tarefa3_2018li1g006.html#v:entreChar">entreChar</a></code> para obter uma lista de <code>String</code> com os 3 status separados.</li><li>Por fim usa-se a fun&#231;ao read no 1&#186;,2&#186; e 3&#186; elemento da lista para se obter o n&#186; de vidas, de lasers e de choques, respetivamente e usando a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:elemList">elemList</a></code> para ler os elementos nas posi&#231;&#245;es da lista.</li><li>Concluindo, junta-se todos os dados que obtemos anteriormente para formar um <code><a href="LI11819.html#t:Jogador">Jogador</a></code>.</li></ol><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>stringToJogador &quot;&lt;10&lt;10&lt;D&lt;6&lt;10&lt;3&lt;&quot;
</code></strong>Jogador {posicaoJogador = (10,10), direcaoJogador = D, vidasJogador = 6, lasersJogador = 10, choquesJogador = 3}
</pre></div></div><div class="top"><p class="src"><a id="v:stringToDisparos" class="def">stringToDisparos</a> <a href="#v:stringToDisparos" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [String]</td><td class="doc"><p>Uma String resultante da utiliza&#231;ao do lines. </p></td></tr><tr><td class="src">-&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>]</td><td class="doc"><p>Lista de Disparos descomprimida</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>stringToDisparos</code>, juntamente com a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:stringToDisparo">stringToDisparo</a></code>, descomprime a lista de strings resultante de usar a fun&#231;&#227;o lines (pre-definida em Data.Char) na lista de disparos comprimida.
	Esta fun&#231;&#227;o vai criar uma lista de Disparos do seguinte modo:</p><ol><li>Pega na primeiro string da lista de <code>String</code>	e usa a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:stringToDisparo">stringToDisparo</a></code>.</li><li>Deposi faz recursividade do resto da lista criando uma lista de Disparos no final.</li></ol><h2>Exemplo de utiliza&#231;&#227;o</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>stringToDisparos (lines &quot;&lt;1&lt;2&lt;K&lt;D&lt;0&lt;\n&lt;3&lt;4&lt;L&lt;B&lt;1&lt;&quot;)
</code></strong>[DisparoCanhao {jogadorDisparo = 0, posicaoDisparo = (1,2), direcaoDisparo = D},DisparoLaser {jogadorDisparo = 1, posicaoDisparo = (3,4), direcaoDisparo = B}]
</pre></div></div><div class="top"><p class="src"><a id="v:stringToDisparo" class="def">stringToDisparo</a> <a href="#v:stringToDisparo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: String</td><td class="doc"><p>Uma string da String resultante da utiliza&#231;ao do lines.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Disparo">Disparo</a></td><td class="doc"><p>Um <code><a href="LI11819.html#t:Disparo">Disparo</a></code> resultante da lista de String.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>stringToDisparo</code> transforma uma <strong>String</strong> correspondente a um disparo e transforma-o num disparo do seguinte modo:</p><ol><li>Um disparo est&#225; dividido em 3 partes : indice do jogador,posic&#227;o,dire&#231;&#227;o (2 se for disparo de choque)</li><li>Para a parte da posi&#231;&#227;o, usamos a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:inicioString">inicioString</a></code> para pegar na parte correspondente &#224; posi&#231;&#227;o na <code>String</code></li><li>Depois, com essa parte, usamos as fun&#231;&#245;es <code><a href="Tarefa3_2018li1g006.html#v:posicaoNaLista">posicaoNaLista</a></code> e <code><a href="Tarefa3_2018li1g006.html#v:entreChar">entreChar</a></code> para obter uma lista de <code>String</code> , sendo o primeiro elemento correspondemte a <strong>x</strong> e o segundo elemento correspondente a <strong>y</strong>.</li><li>Por fim com a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:stringToPosicao">stringToPosicao</a></code> transformamos essa lista numa <code><a href="LI11819.html#t:Posicao">Posicao</a></code> <strong>(x,y)</strong>.</li><li>Para as restantes partes, usamos a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:restoString">restoString</a></code> para pegar na parte correspondente ao indice do Jogador e dire&#231;&#227;o.</li><li>Para ambos os casos, usam-se as fun&#231;&#245;es <code><a href="Tarefa3_2018li1g006.html#v:posicaoNaLista">posicaoNaLista</a></code> e <code><a href="Tarefa3_2018li1g006.html#v:entreChar">entreChar</a></code> para obter uma lista de <code>String</code>, sendo o primeiro elemento correspondente ao indicie do jogador e o segundo a dire&#231;&#227;o (ou no caso do DisparoChoque o tempo).</li><li>Caso, usando a fun&#231;&#227;o <code><a href="Tarefa3_2018li1g006.html#v:elemString">elemString</a></code>, o primero elemento do <code><a href="Tarefa3_2018li1g006.html#v:restoString">restoString</a></code> n&#227;o seja um <strong>R</strong>, criam-se o DisparoCanhao (caso <code><a href="Tarefa3_2018li1g006.html#v:elemString">elemString</a></code> seja <strong>K</strong>) ou o DisparoLaser (caso <code><a href="Tarefa3_2018li1g006.html#v:elemString">elemString</a></code> seja <strong>L</strong>), usando a fun&#231;&#227;o read do 1&#186; ou 2&#186; elemento da lista obtida em 6. e o resultado obtido em 4., colocando por ordem estes elemntos.</li><li>Caso contr&#225;rio, cria-se um DisparoChoque utilizando a fun&#231;&#227;o read e <code><a href="Tarefa3_2018li1g006.html#v:elemList">elemList</a></code> nos na lista obtida em 6. e colocando-os nos devidos lugares.</li></ol><h2>Exemplo da utiliza&#231;&#227;o</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>stringToDisparo &quot;&lt;10&lt;10&lt;K&lt;D&lt;0&lt;&quot;
</code></strong>DisparoCanhao {jogadorDisparo = 0, posicaoDisparo = (10,10), direcaoDisparo = D}
</pre></div></div><div class="top"><p class="src"><a id="v:entreChar" class="def">entreChar</a> :: [Int] -&gt; String -&gt; [String] <a href="#v:entreChar" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code>entreChar</code> recebe uma lista de indices e uma <code>String</code> e criar uma lista de <code>String</code>, removendo os elementos correspondentes aos indices e separando as <strong>string</strong> resultantes.</p><h2>Exemplo da utiliza&#231;&#227;o</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>entreChar [0,3,6] &quot;&lt;11&lt;11&lt;&quot;
</code></strong>[&quot;11&quot;,&quot;11&quot;]
</pre></div></div><div class="top"><p class="src"><a id="v:stringToPosicao" class="def">stringToPosicao</a> :: [String] -&gt; <a href="LI11819.html#t:Posicao">Posicao</a> <a href="#v:stringToPosicao" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code>stringToPosicao</code>, recebe uma lista de <code>String</code>, sendo o primeiro elemento o <strong>x</strong> e o segundo o <strong>y</strong> e com a fun&#231;&#227;o read cria uma <code><a href="LI11819.html#t:Posicao">Posicao</a></code> <strong>(x,y)</strong>.</p><h2>Exemplo da utiliza&#231;&#227;o</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>stringToPosicao [&quot;11&quot;,&quot;11&quot;]
</code></strong>(11,11)
</pre></div></div><div class="top"><p class="src"><a id="v:inicioString" class="def">inicioString</a> :: String -&gt; String <a href="#v:inicioString" class="selflink">#</a></p><div class="doc"><p>A fun&#231;ao <code>inicioStrin</code> que vai pegar na parte da <strong>String</strong> antes de uma das letras.</p></div></div><div class="top"><p class="src"><a id="v:restoString" class="def">restoString</a> :: String -&gt; String <a href="#v:restoString" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code>restoString</code> separa do resto da string a posicao comprimida.</p></div></div><div class="top"><p class="src"><a id="v:elemString" class="def">elemString</a> :: Int -&gt; String -&gt; Char <a href="#v:elemString" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code>elemString</code> pega num determinado elemento de uma string (ex : se n == 1, ent&#227;o vai pegar no primeiro elemento de uma String).</p></div></div><div class="top"><p class="src"><a id="v:elemList" class="def">elemList</a> :: Int -&gt; [String] -&gt; String <a href="#v:elemList" class="selflink">#</a></p><div class="doc"><p>A  fun&#231;&#227;o <code>elemList</code> pega numa determinada <strong>String</strong> de uma lista de <code>String</code> (ex : se n == 1, ent&#227;o vai pegar na primeira String).</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>
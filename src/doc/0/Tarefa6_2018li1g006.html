<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa6_2018li1g006</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Tarefa6_2018li1g006.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Luis Carlos da Costa Salazar Martins<br />Jo&#227;o Miguel Pinheiro Machado</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa6_2018li1g006</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Fun&#231;&#245;es principais da Tarefa 6.</a></li><li><a href="#g:2">Fun&#231;&#245;es usadas para desviar uma bala.</a></li><li><a href="#g:3">Fun&#231;oes relaciondas com o movimento pelo mapa e o ataque a outros jogadores</a></li><li><a href="#g:4">Fun&#231;&#245;es relacionadas com a destruic&#227;o de Blocos Destrutiveis.</a></li><li><a href="#g:5">Fun&#231;&#245;es para quando h&#225; um jogador inimigo perto.</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>Introdu&#231;&#227;o</h1><p>O objetivo deste tarefa &#233; criar um bot que fa&#231;a o papel dum jogador, que seja capaz de fazer as suas pr&#243;prias decis&#245;es. Para esta Tarefa temos o objetivo de fazer com que o bot,
    consiga distinguir diversas situa&#231;&#245;es de perigo e fazer com que reaja de maneira diferentes, dependendo da situa&#231;&#227;o da perigo. Um dos desafios grandes desafios nesta Tarefa &#233; 
    conseguir fazer com que o bot reaga a varias situa&#231;&#245;es de perigo ao mesmo tempo, sendo por isso necess&#225;rio ele ter uma maior prioridade para certos tipos de perigo.
    Caso este n&#227;o esteja em perigo, simplesmente andar&#225; pelo mapa a tentar fazer pontos destruindo blocos ou atacando outros jogadores. </p><h1>Objetivo e estrat&#233;gias.</h1><p>Para a realiza&#231;&#227;o desta tarefa tentamos dividir o bot em 4 partes, cada uma deles relacionada com o meio envolvente ao bot. Estas 4 partes s&#227;o:</p><ul><li>Ver se existe alguma bala de canh&#227;o que ir&#225; atingir o bot e, por consequente, tentar se desviar/destruir a bala.</li><li>Andar pelo mapa livremente e quando encontra um enimigo &#224; sua frente, o <strong>bot</strong> tenta disparar contra ele.</li><li>Ver se existe algum Bloco Destrutivel em alguma das dire&#231;&#245;es e tentar destruir esses blocos com recurso ao laser ou ao canh&#227;o.</li><li>Ver se existe algum enimigo dentro da area do choque do meu jogador e , consequentemente, paraliza-lo e tentar destrui-lo.</li></ul><p>Para a parte de desviar/destruir a bala pensamos da seguinte forma: Se houver alguma bala a vir na dire&#231;&#227;o do <strong>bot</strong> e o e&#231;e estiver a apontar para ela, o bot vai disparar o Canh&#227;o para destruir a bala,
    se n&#227;o ele vai simplesmente se desviar para onde puder, verificando para todas as dire&#231;&#245;es se h&#225; ou n&#227;o uma parede, jogador e se , depois de se mover, fica seguro ou nao.
    Com a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g006.html#v:matrixBalas">matrixBalas</a></code> o bot vai vericar se alguma das balas de Canh&#227;o est&#225; a vir na dire&#231;&#227;o ele, e dependendo da dire&#231;&#227;o dessa bala vai-se desviar para um lugar diferente.
    O funcionamento da <code><a href="Tarefa6_2018li1g006.html#v:matrixBalas">matrixBalas</a></code> assim como as auxiliares que a completam est&#227;o descritos na documenta&#231;&#227;o mais detalhadamente.</p><p>Para a 2&#170; parte, pensamos da seguinte forma: o bot ao andar verifica sempre se est&#225; a apontar para um enimgo e se este n&#227;o est&#225; protegido por uma parede, caso tal ele dispara Lasers (enquanto os tiver)
    e Canh&#245;es. Caso n&#227;o esteja a apontar para nenhum enimigo, ele anda pelo mapa verificando sempre se para todas as dire&#231;&#245;es h&#225; ou n&#227;o uma parede, jogador e se , depois de se mover, fica seguro ou nao, e,
    neste caso, n&#227;o vai poder andar para tr&#225;s a menos que n&#227;o haja outra op&#231;&#227;o. Esta op&#231;&#227;o de n&#227;o andar para tr&#225;s foi criada com o objetivo de evitar que o bot, em certos mapas, anda-se sempre no mesmo sito
    para tr&#225;s e para a frente, indefinidamente.
    O funcionamento da <code><a href="Tarefa6_2018li1g006.html#v:tryToKill">tryToKill</a></code> assim como as auxiliares que a completam est&#227;o descritos na documenta&#231;&#227;o mais detalhadamente.</p><p>Para a 3&#170; parte, ou seja de destruir os Blocos Destrutiveis, distinguimos 2 fun&#231;&#245;es diferentes: uma fun&#231;&#227;o que verficia se h&#225; pares de blocos e outra que verifica se &#224; pelo menos um
    bloco. A raz&#227;o desta destin&#231;&#227;o &#233; tentar poupar o maximo de lasers possiveis, pois se so houver 1 Bloco Destrutivel separado de todos os outros, n&#227;o era rentavel gastar um laser que
    podiaria ser usado para destruir varios. Para isso foram criadas as fun&#231;&#245;es <code><a href="Tarefa6_2018li1g006.html#v:blocosInSight">blocosInSight</a></code> para verificar os blocos que est&#227;o aos pares e a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g006.html#v:rightNextToMe">rightNextToMe</a></code> que verifica s&#243; os
    que est&#227;o mesmo &#224; beira do jogador e tem pelo menos 1 Bloco Destrutivel. O funcionamento destas duas fun&#231;&#245;es, tal como as suas auxiliares &#233; explicado na documenta&#231;&#227;o mais detalhadamente.</p><p>Para a ultima parte, tinhamos como objetivo turnar o <strong>bo</strong> um pouco mais <code>agressivo</code> quando alguem entrava na &#225;rea 3x3 &#224; sua volta. Ent&#227;o fizemos com que ele usa-se o choque, se ja n&#227;o o tinha ativo
    e fizemos tambem com que ele tenta-se atacar o enimigo mais agressivamente, procurando mesmo onde ele est&#225;, com recurso &#224; fun&#231;&#227;o <code><a href="Tarefa6_2018li1g006.html#v:tryToKill2">tryToKill2</a></code> que &#233; uma varia&#231;&#227;o mais &quot;agressiva&quot; da <code>tryTokill</code>, cujo
    seu funionamento &#233; explicado na documenta&#231;&#227;o.</p><p>Concluido assim as fun&#231;&#245;es auxiliares passamos &#224; fun&#231;&#227;o principal <code><a href="Tarefa6_2018li1g006.html#v:bot">bot</a></code>. Para criar as condi&#231;&#245;es na ordem em que se apresentam, come&#231;amos por pensar no que era o mais importante o bot fazer, e chegamos
    &#224; conclus&#227;o:</p><ul><li>1&#186; Verifica se tem balas a ir na dire&#231;&#227;o dele.</li><li>2&#186; Verifica se h&#225; pares de Blocos Destrutives</li><li>3&#186; Verifica se h&#225; pelo menos um Bloco Destrutivel ao seu lado.</li><li>4&#186; Verifica se h&#225; algum jogar demasiado perto</li><li>Caso tudo falhe, o bot vai simplesmente andar pelo mapa.</li></ul><h3>Resultado final da fun&#231;&#227;o <code><a href="Tarefa6_2018li1g006.html#v:bot">bot</a></code></h3><pre>   bot j (Estado m js ds) |not(balasNaMinhaDirecao (js !! j) ds) &amp;&amp; estouProtegido js m (js!!j) ds == False = matrixBalas js m (js !! j) ds
                          |blocosInSight m (js!!j) (whereAreBlocos m (js!!j)) = getThemFreePoints m (js!!j) ds js
                          |rightNextToMe m (js!!j) = disparaToBlocos2 (js!!j) (rightNextToMeWhere m (js !! j))
                          |toCloseL (js!!j) (filtraMortos js) = u2Close4Me m (js!!j) js ds
                          |otherwise = tryToKill m (js !! j) (quemFocar (js !! j) (tiraDaLista (js!!j) js)) ds js
   </pre><h1>Conclus&#227;o</h1><p>Com a tarefa concluida e ap&#243;s alguns testes, conseguimos obter os resultados que estavamos &#224; procura. O <strong>bot</strong> &#233; capaz de distinguir diferentes situa&#231;&#245;es de perigo e &#233; capaz de reagir de formas diferentes.
  O <strong>bot</strong> o bot tambem consegue identificar situa&#231;&#245;es que lhe s&#227;o ben&#233;ficas como por exemplo, ver onde est&#227;o blocos destrutiveis para ganhar pontos.
  Concluimos assim que o bot &#224; capaz de fazer as suas pr&#243;prias decis&#245;es, mas que ainda era possivel fazer com que ele fizesse coisas mais completas com um bocado mais de tempo. Apesar de tudo estamos 
  satisfeitos com os resultados que obtivemos.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:bot">bot</a> :: Int -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:matrixBalas">matrixBalas</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:balaNaMinhaDirecao">balaNaMinhaDirecao</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Disparo">Disparo</a> -&gt; Bool</li><li class="src short"><a href="#v:balasNaMinhaDirecao">balasNaMinhaDirecao</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; Bool</li><li class="src short"><a href="#v:whereToDodge">whereToDodge</a> :: [Bool] -&gt; [Bool] -&gt; [Bool] -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:tryToRun">tryToRun</a> :: [Bool] -&gt; [Bool] -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:naoTemParede">naoTemParede</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [Bool]</li><li class="src short"><a href="#v:balaNaPosicao">balaNaPosicao</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; [Bool]</li><li class="src short"><a href="#v:jogadorNaPosicao">jogadorNaPosicao</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; [Bool]</li><li class="src short"><a href="#v:estouProtegido">estouProtegido</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; Bool</li><li class="src short"><a href="#v:acerta">acerta</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Disparo">Disparo</a> -&gt; Bool</li><li class="src short"><a href="#v:posicaoFinal">posicaoFinal</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; <a href="LI11819.html#t:Disparo">Disparo</a> -&gt; <a href="LI11819.html#t:Posicao">Posicao</a></li><li class="src short"><a href="#v:tryToKill">tryToKill</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:alinhado">alinhado</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; Bool</li><li class="src short"><a href="#v:apontar">apontar</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; Bool</li><li class="src short"><a href="#v:alinha">alinha</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:inSight">inSight</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; Bool</li><li class="src short"><a href="#v:justMove">justMove</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [Bool] -&gt; [Bool] -&gt; [Bool] -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:tryToRuns">tryToRuns</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [Bool] -&gt; [Bool] -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:whereToGo">whereToGo</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [Int] -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:quemFocar">quemFocar</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; <a href="LI11819.html#t:Jogador">Jogador</a></li><li class="src short"><a href="#v:tiraDaLista">tiraDaLista</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>]</li><li class="src short"><a href="#v:getThemFreePoints">getThemFreePoints</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:blocosInSight">blocosInSight</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [Bool] -&gt; Bool</li><li class="src short"><a href="#v:whereAreBlocos">whereAreBlocos</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [Bool]</li><li class="src short"><a href="#v:disparaToBlocos">disparaToBlocos</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [Bool] -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:disparaToBlocos2">disparaToBlocos2</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [Bool] -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:rightNextToMe">rightNextToMe</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; Bool</li><li class="src short"><a href="#v:rightNextToMeWhere">rightNextToMeWhere</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [Bool]</li><li class="src short"><a href="#v:u2Close4Me">u2Close4Me</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:toCloseL">toCloseL</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; Bool</li><li class="src short"><a href="#v:toClose">toClose</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; <a href="LI11819.html#t:Jogador">Jogador</a></li><li class="src short"><a href="#v:filtraMortos">filtraMortos</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>]</li><li class="src short"><a href="#v:whoIsMe">whoIsMe</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; Int</li><li class="src short"><a href="#v:tenhoChoqueAtivo">tenhoChoqueAtivo</a> :: Int -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; Bool</li><li class="src short"><a href="#v:tryToKill2">tryToKill2</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li></ul></div><div id="interface"><h1 id="g:1">Fun&#231;&#245;es principais da Tarefa 6.</h1><div class="top"><p class="src"><a id="v:bot" class="def">bot</a> <a href="#v:bot" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>O identificador do <code><a href="LI11819.html#t:Jogador">Jogador</a></code> associado ao ro<code><a href="Tarefa6_2018li1g006.html#v:bot">bot</a></code>.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Estado">Estado</a></td><td class="doc"><p>O <code><a href="LI11819.html#t:Estado">Estado</a></code> para o qual o ro<code><a href="Tarefa6_2018li1g006.html#v:bot">bot</a></code> deve tomar uma decis&#227;o.</p></td></tr><tr><td class="src">-&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></td><td class="doc"><p>Uma poss&#237;vel <code><a href="LI11819.html#t:Jogada">Jogada</a></code> a efetuar pelo ro<code><a href="Tarefa6_2018li1g006.html#v:bot">bot</a></code>.</p></td></tr></table></div><div class="doc"><p>Define um ro<code><a href="Tarefa6_2018li1g006.html#v:bot">bot</a></code> capaz de jogar autonomamente o jogo.</p></div></div><h1 id="g:2">Fun&#231;&#245;es usadas para desviar uma bala.</h1><div class="top"><p class="src"><a id="v:matrixBalas" class="def">matrixBalas</a> <a href="#v:matrixBalas" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="LI11819.html#t:Jogador">Jogador</a>]</td><td class="doc"><p>A lista de todos os jogadores usada na fun&#231;&#227;o <code>wheroToDodge</code></p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Mapa">Mapa</a></td><td class="doc"><p>O mapa de atual do Jogo</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu Jogador</p></td></tr><tr><td class="src">-&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>]</td><td class="doc"><p>A lista de todos os disparos em curso</p></td></tr><tr><td class="src">-&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></td><td class="doc"><p>Uma possivel <code><a href="LI11819.html#t:Jogada">Jogada</a></code> a efetuar</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>matrixBalas</code> testa se tem alguma bala de canhao a vir em dire&#231;&#227;o do bot, e vais testar as seguintes condi&#231;&#245;es para todas as balas:</p><ul><li>Se tiver uma bala e vir na posi&#231;&#227;o central do bot, ele tenta destruir a bala.</li><li>Se tiver uma bala e vir para uma das posi&#231;&#245;es laterais do bot, ele simplesmente tenta deviar-se dela atrav&#233;s da fun&#231;&#227;o <code><a href="Tarefa6_2018li1g006.html#v:whereToDodge">whereToDodge</a></code>.</li></ul></div></div><div class="top"><p class="src"><a id="v:balaNaMinhaDirecao" class="def">balaNaMinhaDirecao</a> <a href="#v:balaNaMinhaDirecao" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu bot</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Disparo">Disparo</a></td><td class="doc"><p>A bala de canhao a testar</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>True caso a bala atinja o bot, False caso contr&#225;rio</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>balaNaMinhaDirecao</code> verfica se h&#225; alguma bala de canh&#227;o a vir para a minha dire&#231;&#227;o e que acabe por antingir o bot.
    Caso uma bala v&#225; atingir o bot o output &#233; True</p><h2>Exemplo de utiliza&#231;&#227;o</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>balaNaMinhaDirecao (Jogador (5,1) C 5 2 2) (DisparoCanhao 1 (1,1) B)
</code></strong>True
</pre></div></div><div class="top"><p class="src"><a id="v:balasNaMinhaDirecao" class="def">balasNaMinhaDirecao</a> <a href="#v:balasNaMinhaDirecao" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu bot</p></td></tr><tr><td class="src">-&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>]</td><td class="doc"><p>A lista de todos os disparos em curso</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>True caso o n&#227;o haja balas na minha dire&#231;&#227;o, False caso contr&#225;rio.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>balasNaMinhaDirecao</code> verifica se tem alguma bala ou laser a vir na minha dire&#231;&#227;o.
    Esta fun&#231;&#227;o &#233; usada posteriormente em <code><a href="Tarefa6_2018li1g006.html#v:balaNaPosicao">balaNaPosicao</a></code> para verificar se &#233; seguror mover numda dada dire&#231;&#227;o.
    Esta fun&#231;&#227;o funcionda de modo identico &#224; <code><a href="Tarefa6_2018li1g006.html#v:balaNaMinhaDirecao">balaNaMinhaDirecao</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:whereToDodge" class="def">whereToDodge</a> <a href="#v:whereToDodge" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [Bool]</td><td class="doc"><p>Lista gerada por <code><a href="Tarefa6_2018li1g006.html#v:naoTemParede">naoTemParede</a></code></p></td></tr><tr><td class="src">-&gt; [Bool]</td><td class="doc"><p>Lista gerada por <code><a href="Tarefa6_2018li1g006.html#v:balaNaPosicao">balaNaPosicao</a></code></p></td></tr><tr><td class="src">-&gt; [Bool]</td><td class="doc"><p>Lista gerada por <code><a href="Tarefa6_2018li1g006.html#v:jogadorNaPosicao">jogadorNaPosicao</a></code></p></td></tr><tr><td class="src">-&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></td><td class="doc"><p>Uma possivel <code><a href="LI11819.html#t:Jogada">Jogada</a></code> a efetuar.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>whereToDodge</code> funciona em conjunto com a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g006.html#v:tryToRun">tryToRun</a></code> recebe 3 listas de <strong>Bool</strong> com 4 elementos cada, onde cada elemento representa uma <strong>dire&#231;&#227;o</strong>.
   O 1&#186; elemento corresponde para <strong>Cima</strong>, o 2&#186; <strong>Direita</strong>, o 3&#186; <strong>Baixo</strong>, e o 4&#186; <strong>Esquerd</strong>a, sendo que <strong>True</strong> &#233; possivel/seguro mover numa dire&#231;&#227;o.
   Ap&#243;s receber estas 3 listas de Bool, e usando uma auxiliar, criar uma lista resultante de atribuir um n&#186; (1-&gt;C,2-&gt;D...) quando os elementos do mesmo indice s&#227;o todos True.
   Caso a lista seja Vazia passa-se para o uso da <code><a href="Tarefa6_2018li1g006.html#v:tryToRun">tryToRun</a></code>. Caso n&#227;o seja vazia, o bot vai-se mover de acordo com o primeiro elemento da lista criada.
   Nesta fun&#231;&#227;o, a primeira lista representa a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g006.html#v:naoTemParede">naoTemParede</a></code>, a segunda <code><a href="Tarefa6_2018li1g006.html#v:balaNaPosicao">balaNaPosicao</a></code> e a terceira <code><a href="Tarefa6_2018li1g006.html#v:jogadorNaPosicao">jogadorNaPosicao</a></code>. </p><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whereToDodge [True,True,True,True] [False,True,True,True] [True,True,False,True]
</code></strong>Just (Movimenta D)
</pre></div></div><div class="top"><p class="src"><a id="v:tryToRun" class="def">tryToRun</a> <a href="#v:tryToRun" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [Bool]</td><td class="doc"><p>Lista gerada por <code><a href="Tarefa6_2018li1g006.html#v:naoTemParede">naoTemParede</a></code></p></td></tr><tr><td class="src">-&gt; [Bool]</td><td class="doc"><p>Lista gerada por <code><a href="Tarefa6_2018li1g006.html#v:jogadorNaPosicao">jogadorNaPosicao</a></code></p></td></tr><tr><td class="src">-&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></td><td class="doc"><p>Uma possivel <code><a href="LI11819.html#t:Jogada">Jogada</a></code> a efetuar.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>tryToRun</code> funciona de modo identico &#224; fun&#231;&#227;o <code>whereToDogde</code>, mas &#233; o caso em que a segunda lista seja toda <strong>False</strong>.
    Logo, nesta fun&#231;&#227;o, a primeira lista representa a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g006.html#v:naoTemParede">naoTemParede</a></code>, a segunda <code><a href="Tarefa6_2018li1g006.html#v:jogadorNaPosicao">jogadorNaPosicao</a></code>.</p><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>tryToRun [True,True,False,False] [False,True,True,False]
</code></strong>Just (Movimenta D)
</pre></div></div><div class="top"><p class="src"><a id="v:naoTemParede" class="def">naoTemParede</a> <a href="#v:naoTemParede" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Mapa">Mapa</a></td><td class="doc"><p>Mapa atual do Jogo.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu bot.</p></td></tr><tr><td class="src">-&gt; [Bool]</td><td class="doc"><p>Lista de bool de 4 elementos, onde True equivale a ser possivel mover nessa dire&#231;&#227;o ([C,D,B,E]).</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>naoTemParede</code> cria um lista de <strong>Bool</strong> com 4 elementos, dependendo de haver ou n&#227;o um Bloco Indestrestrutivel/Destrutivel ao lado do <strong>bot</strong>.
    O 1&#186; elemento corresponde para <strong>Cima</strong>, o 2&#186; <strong>Direita</strong>, o 3&#186; <strong>Baixo</strong>, e o 4&#186; <strong>Esquerda</strong>, sendo que <strong>True</strong> &#233; possivel mover numa dire&#231;&#227;o ser ir contra uma parede.</p><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>naoTemParede (mapaInicial (5,5)) (Jogador (1,1) D 4 2 2)
</code></strong>[False,True,True,False]
</pre></div></div><div class="top"><p class="src"><a id="v:balaNaPosicao" class="def">balaNaPosicao</a> <a href="#v:balaNaPosicao" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu bot.</p></td></tr><tr><td class="src">-&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>]</td><td class="doc"><p>A lista de todos os disparos em curso.</p></td></tr><tr><td class="src">-&gt; [Bool]</td><td class="doc"><p>Lista de bool de 4 elementos, onde True equivale a ser possivel mover nessa dire&#231;&#227;o ([C,D,B,E]).</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>balaNaPosicao</code> cria um lista de <strong>Bool</strong> com 4 elementos, dependendo de haver ou n&#227;o uma bala 2 casas adjacentes ao <strong>bot</strong> em cada dire&#231;&#227;o.
    O 1&#186; elemento corresponde para <strong>Cima</strong>, o 2&#186; <strong>Direita</strong>, o 3&#186; <strong>Baixo</strong>, e o 4&#186; <strong>Esquerda</strong>, sendo que <strong>True</strong> &#233; possivel mover numa dire&#231;&#227;o sem ser atingido.</p><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>balaNaPosicao (Jogador (1,1) D 4 2 2) [(DisparoCanhao 1 (1,5) E)]
</code></strong>[True,False,True,False]
</pre></div></div><div class="top"><p class="src"><a id="v:jogadorNaPosicao" class="def">jogadorNaPosicao</a> <a href="#v:jogadorNaPosicao" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu bot.</p></td></tr><tr><td class="src">-&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>]</td><td class="doc"><p>A lista de todos os Jogadores.</p></td></tr><tr><td class="src">-&gt; [Bool]</td><td class="doc"><p>Lista de bool de 4 elementos, onde True equivale a ser possivel mover nessa dire&#231;&#227;o ([C,D,B,E]).</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>jogadorNaPosicao</code> cria um lista de <strong>Bool</strong> com 4 elementos, dependendo de haver ou n&#227;o um jogador adjacentes ao <strong>bot</strong> em cada dire&#231;&#227;o.
    O 1&#186; elemento corresponde para <strong>Cima</strong>, o 2&#186; <strong>Direita</strong>, o 3&#186; <strong>Baixo</strong>, e o 4&#186; <strong>Esquerda</strong>, sendo que <strong>True</strong> &#233; possivel mover numa dire&#231;&#227;o sem ir contra outro Jogador.</p><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>jogadorNaPosicao (Jogador (1,1) D 4 2 2) [(Jogador (1,1) D 4 2 2),(Jogador (1,3) D 4 2 2),(Jogador (4,1) D 4 2 2)]
</code></strong>[True,False,True,True]
</pre></div></div><div class="top"><p class="src"><a id="v:estouProtegido" class="def">estouProtegido</a> <a href="#v:estouProtegido" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="LI11819.html#t:Jogador">Jogador</a>]</td><td class="doc"><p>A lista de todos os jogadores.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Mapa">Mapa</a></td><td class="doc"><p>O mapa atual de Jogo.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu Bot.</p></td></tr><tr><td class="src">-&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>]</td><td class="doc"><p>A lista de Disparos em curso.</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>True se o meu bot est&#225; protegido por parede ou outro Jogador.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>estouProtegido</code> funtamente com a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g006.html#v:acerta">acerta</a></code> vai verficiar se o jogador est&#225; protegido por alguma parede ou noutro Jogador, ou seja,
    caso a bala v&#225; na sua dire&#231;&#227;o ele n&#227;o &#233; atingido porque tem uma parede a proteger.</p><h2>Exemplo de utiliza&#231;&#227;o</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>estouProtegido [] (constroi [Roda,Move B,Desenha]) (Jogador (4,1) D 5 2 2) [(DisparoCanhao 1 (1,1) B)]
</code></strong>True
</pre></div></div><div class="top"><p class="src"><a id="v:acerta" class="def">acerta</a> <a href="#v:acerta" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="LI11819.html#t:Jogador">Jogador</a>]</td><td class="doc"><p>A lista de todos os jogadores.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Mapa">Mapa</a></td><td class="doc"><p>O mapa atual de Jogo.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu Bot.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Disparo">Disparo</a></td><td class="doc"><p>O disparo a comparar.</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>True se o meu bot &#233; atingido por uma bala ou laser.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>acerta</code> verifica se uma bala acerta ou nao no Bot com auxilio das fun&#231;&#245;es <code><a href="Tarefa6_2018li1g006.html#v:posicaoFinal">posicaoFinal</a></code>, <code><a href="Tarefa4_2018li1g006.html#v:listaDePosicoes">listaDePosicoes</a></code> e <code><a href="Tarefa4_2018li1g006.html#v:verOndePara">verOndePara</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:posicaoFinal" class="def">posicaoFinal</a> <a href="#v:posicaoFinal" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Mapa">Mapa</a></td><td class="doc"><p>O mapa atual de Jogo.</p></td></tr><tr><td class="src">-&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>]</td><td class="doc"><p>A lista de todos os Jogadores.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Disparo">Disparo</a></td><td class="doc"><p>O disparo do qual vai ser retirada a posicao final.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Posicao">Posicao</a></td><td class="doc"><p>A posicao final da bala.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>posicaoFinal</code> verifica qual &#233; a posi&#231;&#227;o final de uma bala. &#201; usada para ver se uma bala atinge ou nao o bot.</p></div></div><h1 id="g:3">Fun&#231;oes relaciondas com o movimento pelo mapa e o ataque a outros jogadores</h1><div class="top"><p class="src"><a id="v:tryToKill" class="def">tryToKill</a> <a href="#v:tryToKill" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Mapa">Mapa</a></td><td class="doc"><p>O Mapa atual do jogo</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu jogador</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O jogador a focar</p></td></tr><tr><td class="src">-&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>]</td><td class="doc"><p>A lista de todos os disparor</p></td></tr><tr><td class="src">-&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>]</td><td class="doc"><p>A lista de todos os jogadores</p></td></tr><tr><td class="src">-&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></td><td class="doc"><p>Uma poss&#237;vel <code><a href="LI11819.html#t:Jogada">Jogada</a></code> a efetuar</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>tryToKill</code> &#233; a fun&#231;&#227;o principal deste sec&#231;&#227;o. O objetivo desta fun&#231;&#227;o &#233; verificar se existe algum enimigo para onde o meu bot est&#225; a apontar, e se for o caso,
    ele vai disparar laser (enquanto estiverem disponiveis) e balas para os atingir.
    Esta fun&#231;&#227;o usa como auxiliares as fun&#231;&#245;es <code><a href="Tarefa6_2018li1g006.html#v:alinhado">alinhado</a></code> , <code><a href="Tarefa6_2018li1g006.html#v:inSight">inSight</a></code> e <code><a href="Tarefa6_2018li1g006.html#v:apontar">apontar</a></code> e caso o enimigo n&#227;o esteja visivel/vivo o bot simplesmente andar&#225; pelo mapa com recurso &#224; fun&#231;&#227;o <code><a href="Tarefa6_2018li1g006.html#v:justMove">justMove</a></code></p></div></div><div class="top"><p class="src"><a id="v:alinhado" class="def">alinhado</a> <a href="#v:alinhado" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu bot.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O enimigo que o bot est&#225; a focar.</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>True se o bot est&#225; linhado com o enimigo.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>alinhado</code> verifica o bot est&#225; ou nao alinhado com outro Jogador, ou seja, se o bot disparar o disparo tem de chegar ao inimigo, contando que este fique parado.</p><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>alinhado (Jogador (1,1) D 5 2 2) (Jogador (5,2) B 2 3 1)
</code></strong>True
</pre></div></div><div class="top"><p class="src"><a id="v:apontar" class="def">apontar</a> <a href="#v:apontar" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu bot.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O enimigo que o bot est&#225; a focar.</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>True se o bot est&#225; a apontar para o enimigo.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>apontar</code>, verifica se o <strong>bot</strong> est&#225; virado para o lado certo, ou seja, se est&#225; virado para o inimigo.</p><h2>Exemplo de utiliza&#231;&#227;o</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>apontar (Jogador (1,1) C 5 2 2) (Jogador (5,2) B 2 3 1)
</code></strong>False
</pre></div></div><div class="top"><p class="src"><a id="v:alinha" class="def">alinha</a> <a href="#v:alinha" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu bot.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O enimigo que o bot est&#225; a focar.</p></td></tr><tr><td class="src">-&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></td><td class="doc"><p>Uma poss&#237;vel <code><a href="LI11819.html#t:Jogada">Jogada</a></code> a efetuar.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>alinha</code> apenas faz com que o bot aponte para o inimigo</p></div></div><div class="top"><p class="src"><a id="v:inSight" class="def">inSight</a> <a href="#v:inSight" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Mapa">Mapa</a></td><td class="doc"><p>O mapa atual do jogo.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu bot.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O enimigo que o bot est&#225; a focar.</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>True se o bot est&#225; a apontar para o enimigo e a bala chega at&#233; ele.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o inSight vai verificar se, quando o jogador disparar, a bala chega ao inimigo sem bater numa parede e se a bala defacto chega a um inimgo.</p></div></div><div class="top"><p class="src"><a id="v:justMove" class="def">justMove</a> <a href="#v:justMove" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu bot.</p></td></tr><tr><td class="src">-&gt; [Bool]</td><td class="doc"><p>Lista gerada por <code><a href="Tarefa6_2018li1g006.html#v:naoTemParede">naoTemParede</a></code>.</p></td></tr><tr><td class="src">-&gt; [Bool]</td><td class="doc"><p>Lista gerada por <code><a href="Tarefa6_2018li1g006.html#v:balaNaPosicao">balaNaPosicao</a></code>.</p></td></tr><tr><td class="src">-&gt; [Bool]</td><td class="doc"><p>Lista gerada por <code><a href="Tarefa6_2018li1g006.html#v:jogadorNaPosicao">jogadorNaPosicao</a></code>.</p></td></tr><tr><td class="src">-&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></td><td class="doc"><p>Uma possivel <code><a href="LI11819.html#t:Jogada">Jogada</a></code> a efetuar.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>justMove</code> &#233; uma varia&#231;&#227;o da fun&#231;&#227;o <code><a href="Tarefa6_2018li1g006.html#v:whereToDodge">whereToDodge</a></code>, a unica diferen&#231;a reside na fun&#231;&#227;o auxiliar <code><a href="Tarefa6_2018li1g006.html#v:tryToRuns">tryToRuns</a></code> e tamb&#233;m tem um argumento a mais.
    A diferen&#231;a entre esta fun&#231;&#227;o e a <code>whereToDogde</code> &#233; que esta fun&#231;&#227;o nao permite ao bot andar para tr&#225;s, a menos que estritamente necess&#225;rio, ou seja,
    se o bot estiver virado para cima, ele n&#227;o pode ir para baixo, exceto se for a unica op&#231;&#227;o de movimento.</p><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>justMove (Jogador (2,2) B 5 2 2) [True,False,True,True] [False,True,True,True] [True,True,False,True]
</code></strong>Just (Movimenta E)
</pre></div></div><div class="top"><p class="src"><a id="v:tryToRuns" class="def">tryToRuns</a> <a href="#v:tryToRuns" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu bot.</p></td></tr><tr><td class="src">-&gt; [Bool]</td><td class="doc"><p>Lista gerada por <code><a href="Tarefa6_2018li1g006.html#v:naoTemParede">naoTemParede</a></code>.</p></td></tr><tr><td class="src">-&gt; [Bool]</td><td class="doc"><p>Lista gerada por <code><a href="Tarefa6_2018li1g006.html#v:jogadorNaPosicao">jogadorNaPosicao</a></code>.</p></td></tr><tr><td class="src">-&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></td><td class="doc"><p>Uma possivel <code><a href="LI11819.html#t:Jogada">Jogada</a></code> a efetuar.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>tryToRuns</code> funciona de modo identico &#224; fun&#231;&#227;o <code><a href="Tarefa6_2018li1g006.html#v:justMove">justMove</a></code>, mas &#233; o caso em que a segunda lista seja toda <strong>False</strong>.</p></div></div><div class="top"><p class="src"><a id="v:whereToGo" class="def">whereToGo</a> <a href="#v:whereToGo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu bot.</p></td></tr><tr><td class="src">-&gt; [Int]</td><td class="doc"><p>Uma lista que corresponde &#224;s possibilidades de movimento.</p></td></tr><tr><td class="src">-&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></td><td class="doc"><p>Uma possivel <code><a href="LI11819.html#t:Jogada">Jogada</a></code> a efetuar.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>whereToGo</code> &#233; a  fun&#231;&#227;o que n&#227;o permite ao bot andar para tr&#225;s a menos que seja extritamente necess&#225;rio.
    Recebe um jogador e uma lista de int que corresponde &#224;s possibilidades de movimento. O 1 &#233; para <strong>Cima</strong> , o 2 &#233; para a <strong>Direita</strong> , o 3 &#233; para <strong>Baixo</strong> e o 4 &#233; para a <strong>Esquerda</strong>.</p><h2>Exemplo da utiliza&#231;&#227;o</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whereToGo (Jogador (1,1) C 5 2 2) [3]
</code></strong>Just (Movimenta B) 
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whereToGo (Jogador (1,1) C 5 2 2) [3,4]
</code></strong>Just (Movimenta E)
</pre></div></div><div class="top"><p class="src"><a id="v:quemFocar" class="def">quemFocar</a> <a href="#v:quemFocar" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu Bot.</p></td></tr><tr><td class="src">-&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>]</td><td class="doc"><p>A lista de todos os jogadores.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O jogador que o bot vai focar.</p></td></tr></table></div><div class="doc"><p>O objetivo desta fun&#231;&#227;o &#233; apenas, da lista de jogadores, escolher o que est&#225; mais perto do bot.</p></div></div><div class="top"><p class="src"><a id="v:tiraDaLista" class="def">tiraDaLista</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] <a href="#v:tiraDaLista" class="selflink">#</a></p><div class="doc"><p>Serve apenas para retirar o bot da lista de Jogadores.</p></div></div><h1 id="g:4">Fun&#231;&#245;es relacionadas com a destruic&#227;o de Blocos Destrutiveis.</h1><div class="top"><p class="src"><a id="v:getThemFreePoints" class="def">getThemFreePoints</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a> <a href="#v:getThemFreePoints" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code>getThemFreePoints</code>, juntamente com as suas auxiliares, vai verifica se para alguma das dir&#231;&#245;es existe Blocos Indestrutives, mas so no caso de estes virem aos pares.
    Caso aconte&#231;a isso, o jogador vai destrui-los com recurso ao canhao ou ao laser, se n&#227;o houver blocos o <strong>bot</strong> vai andar pelo mapa com recurso &#224; fun&#231;&#227;o <code><a href="Tarefa6_2018li1g006.html#v:justMove">justMove</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:blocosInSight" class="def">blocosInSight</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [Bool] -&gt; Bool <a href="#v:blocosInSight" class="selflink">#</a></p><div class="doc"><p>Esta fun&#231;&#227;o apenas verifica se h&#225; blocos em alguma das dire&#231;&#245;es em rela&#231;&#227;o ao bot.</p></div></div><div class="top"><p class="src"><a id="v:whereAreBlocos" class="def">whereAreBlocos</a> <a href="#v:whereAreBlocos" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Mapa">Mapa</a></td><td class="doc"><p>O mapa atual de jogo.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu bot.</p></td></tr><tr><td class="src">-&gt; [Bool]</td><td class="doc"><p>A lista que indica onde est&#227;o os blocos destrutiveis.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>whereAreBlocos</code> verifica se h&#225; pares de Blocos Destrutiveis para cada um dos lados do bot, e criar uma lista de <strong>Bool</strong> que contem a informa&#231;&#227;o de onde est&#227;o os Blocos Destrutiveis.
    Na lista criada, o 1&#186; elemento corresponde para <strong>Cima</strong>, o 2&#186; <strong>Direita</strong>, o 3&#186; <strong>Baixo</strong>, e o 4&#186; <strong>Esquerd</strong>a, sendo que <strong>True</strong> corresponde a existir pares de bloco numa determinada dire&#231;&#227;o.</p><h2>Exemplo na utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>whereAreBlocos (constroi [Roda,Move B,MudaParede,Desenha]) (Jogador (4,1) D 5 2 2)
</code></strong>[True,False,False,False]
</pre></div></div><div class="top"><p class="src"><a id="v:disparaToBlocos" class="def">disparaToBlocos</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [Bool] -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a> <a href="#v:disparaToBlocos" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code>disparaToBlocos</code> faz com que o bot dispare laser ou balas quando os blocos destrutiveis n&#227;o estao colados ao bot, ou seja, quando h&#225; pelo menos um espa&#231;o vazio entre o bot e os blocos destrutiveis</p></div></div><div class="top"><p class="src"><a id="v:disparaToBlocos2" class="def">disparaToBlocos2</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [Bool] -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a> <a href="#v:disparaToBlocos2" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code>disparaToBlocos2</code> faz com que o <strong>bot</strong> dispare apenas balas quando os blocos est&#227;o adjacentes a si, n&#227;o gastando assim lasers.</p></div></div><div class="top"><p class="src"><a id="v:rightNextToMe" class="def">rightNextToMe</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; Bool <a href="#v:rightNextToMe" class="selflink">#</a></p><div class="doc"><p>Esta fun&#231;&#227;o apenas verifica se h&#225; blocos em alguma das dire&#231;&#245;es em rela&#231;&#227;o ao <strong>bot</strong> e que estejam adjacentes a este.</p></div></div><div class="top"><p class="src"><a id="v:rightNextToMeWhere" class="def">rightNextToMeWhere</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [Bool] <a href="#v:rightNextToMeWhere" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code>rightNextToMeWhere</code> verifica se h&#225; Blocos Destrutiveis adjacentes ao bot para cada um dos lados, e criar uma lista de <strong>Bool</strong> que contem a informa&#231;&#227;o de onde est&#227;o os Blocos Destrutiveis.
    Na lista criada, o 1&#186; elemento corresponde para <strong>Cima</strong>, o 2&#186; <strong>Direita</strong>, o 3&#186; <strong>Baixo</strong>, e o 4&#186; <strong>Esquerd</strong>a, sendo que <strong>True</strong> corresponde a existir pares de bloco numa determinada dire&#231;&#227;o.</p><h2>Exemplo na utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rightNextToMeWhere (constroi [Roda,Move B,MudaParede,Desenha]) (Jogador (4,1) D 5 2 2)
</code></strong>[True,False,False,False]
</pre></div></div><h1 id="g:5">Fun&#231;&#245;es para quando h&#225; um jogador inimigo perto.</h1><div class="top"><p class="src"><a id="v:u2Close4Me" class="def">u2Close4Me</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a> <a href="#v:u2Close4Me" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code>u2Close4Me</code>, juntamente com as auxiliares, verficia-se existe algum enimigo a uma distancia pequena do <strong>bot</strong>. Se existir, o <strong>bot</strong> usa o choque e tenta destrui-lo.</p></div></div><div class="top"><p class="src"><a id="v:toCloseL" class="def">toCloseL</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; Bool <a href="#v:toCloseL" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code>toCloseL</code> verifica se na lista de jogadores h&#225; algum inimigo que esteja na area que o choque afeta.</p></div></div><div class="top"><p class="src"><a id="v:toClose" class="def">toClose</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> <a href="#v:toClose" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code>toClose</code> &#233; usada quando a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g006.html#v:toCloseL">toCloseL</a></code> d&#225; True. Esta fun&#231;&#227;o v&#234; qual &#233; o jogador que est&#225; demasiado perto do <strong>bot</strong> para ser usado na fun&#231;&#227;o <code><a href="Tarefa6_2018li1g006.html#v:u2Close4Me">u2Close4Me</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:filtraMortos" class="def">filtraMortos</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] <a href="#v:filtraMortos" class="selflink">#</a></p><div class="doc"><p>Esta fun&#231;&#227;o apenas remove os jogadores mortos da lista de jogadores, para tornar a aplica&#231;&#227;o das outras fun&#231;&#245;es mais facil.</p></div></div><div class="top"><p class="src"><a id="v:whoIsMe" class="def">whoIsMe</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; Int <a href="#v:whoIsMe" class="selflink">#</a></p><div class="doc"><p>Esta fun&#231;&#227;o vai ser usada para verificar se o <strong>bot</strong> tem algum choque ativo na fun&#231;&#227;o <code><a href="Tarefa6_2018li1g006.html#v:u2Close4Me">u2Close4Me</a></code></p></div></div><div class="top"><p class="src"><a id="v:tenhoChoqueAtivo" class="def">tenhoChoqueAtivo</a> :: Int -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; Bool <a href="#v:tenhoChoqueAtivo" class="selflink">#</a></p><div class="doc"><p>Esta fun&#231;&#227;o verifica se o indice do <strong>bot</strong> corresponde ao indice de algum dos <strong>choques</strong> da lista de disparos.</p></div></div><div class="top"><p class="src"><a id="v:tryToKill2" class="def">tryToKill2</a> <a href="#v:tryToKill2" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Mapa">Mapa</a></td><td class="doc"><p>O Mapa atual do jogo</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O meu jogador</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>O jogador a focar</p></td></tr><tr><td class="src">-&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>]</td><td class="doc"><p>A lista de todos os disparor</p></td></tr><tr><td class="src">-&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>]</td><td class="doc"><p>A lista de todos os jogadores</p></td></tr><tr><td class="src">-&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></td><td class="doc"><p>Uma poss&#237;vel <code><a href="LI11819.html#t:Jogada">Jogada</a></code> a efetuar</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>tryToKill2</code> &#233; uma varia&#231;&#227;o da <code><a href="Tarefa6_2018li1g006.html#v:tryToKill">tryToKill</a></code> que tenta, destruir o enimigo proximo do <strong>bot</strong> , mesmo que n&#227;o estejam alinhados.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>